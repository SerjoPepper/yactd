<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" Content="text/html; charset=utf-8">
        <link rel="stylesheet" href="css/main.css" />
        <link rel="stylesheet" href="bootstrap/css/bootstrap.css" />
        <link rel="stylesheet" href="js/lib/pnotify/jquery.pnotify.default.css">
        <script type="text/javascript" src="//yandex.st/jquery/1.8.1/jquery.min.js"></script>
        <script type="text/javascript" src="js/lib/jquery-mustache.js"></script>
        <script type="text/javascript" src="js/lib/mustache.js"></script>
        <script type="text/javascript" src="js/lib/pnotify/jquery.pnotify.js"></script>
        <script type="text/javascript" src="//api-maps.yandex.ru/2.0.17/?lang=ru-RU&load=package.full,overlay.staticGraphics.Polyline,geometry.pixel.LineString,overlay.staticGraphics.Placemark,overlay.interactiveGraphics.Placemark,geometry.pixel.Point,graphics.render.detect.all"></script>
        <!--<script type="text/javascript" src="//spereskokov.orina.maps.dev.yandex.net/api2.0/build/index.xml?mode=debug&lang=ru-RU&load=package.full,overlay.staticGraphics.Polyline,geometry.pixel.LineString,overlay.staticGraphics.Placemark,geometry.pixel.Point,graphics.render.detect.all"></script>-->
        <script type="text/javascript" src="js/lib/app/data.js"></script>
        <script type="text/javascript" src="js/app.js"></script>
        <script type="text/javascript" src="js/lib/app/game.js"></script>
        <script type="text/javascript" src="js/lib/app/controls.js"></script>
        <script type="text/javascript" src="js/lib/app/home.js"></script>
        <script type="text/javascript" src="js/lib/app/settings.js"></script>
        <script type="text/javascript" src="js/lib/app/presets.js"></script>
        <script type="text/javascript" src="js/lib/app/route.js"></script>
        <script type="text/javascript" src="js/lib/app/ticker.js"></script>
        <script type="text/javascript" src="js/lib/app/util.js"></script>
        <script type="text/javascript" src="js/lib/app/wave.js"></script>
        <script type="text/javascript" src="js/lib/app/mob.js"></script>
        <script type="text/javascript" src="js/lib/app/player.js"></script>
        <script type="text/javascript" src="js/lib/app/shoot.js"></script>
        <script type="text/javascript" src="js/lib/app/tower.js"></script>
        <title>Tower Defence</title>
    </head>
    <body>
        <div id="map"></div>
        <div id="left-panel">
            <div class="top">
                <div class="user-menu">
                    <input type="text" placeholder="Введите имя" value="" class="username"/>
                        <form class="start-game">
                            <div class="choose-place">
                                <div class="places"></div>
                            </div>
                            <button type="submit" class="btn btn-inverse btn-large">Начать игру!</button>
                        </form>
                </div>
                <div class="game">
                    <div class="controls">
                        <button class="btn btn-large play"><i class="icon-play"></i><i class="icon-pause"></i></button>
                        <button class="btn btn-large forward"><i class="icon-forward"></i></button>
                        <button class="btn btn-large home"><i class="icon-home"></i></button>
                        <button class="btn btn-large buy"><i class="icon-shopping-cart"></i></button>
                    </div>
                    <div class="tower-view">

                    </div>
                    <div class="towers-list">

                    </div>

                    <div class="mob-info">
                        <div class="current-mob"></div>
                        <div class="next-mob"></div>
                    </div>
                    <div class="stats">
                    </div>
                    <div class="veil"></div>
                    <button class="btn btn-large back-to-menu"><i class="icon-arrow-left"></i> Меню</button>
                    <button class="btn btn-large restart"><i class="icon-repeat"></i></button>
                </div>
            </div>
            <div class="bottom">
                <div class="ratings"></div>
            </div>
        </div>
        <!--Mustache templates-->
        <script type="text/html" id="places">
            {{#places}}
                <button type="button" class="btn btn-large place">{{title}}</button>
            {{/places}}
        </script>
        <script type="text/html" id="towers-list">
            <div class="towers-list-wrapper {{addingClass}}" {{^towers}}style="display:none"{{/towers}}>
                <div class="towers-list-wrapper-overflow-hidden">
                {{#towers}}
                    <div class="tower" towerindex="{{index}}" towerid="{{id}}">
                        <div class="tower-image {{cssClass}} {{selected}}"></div>
                    </div>
                {{/towers}}
                </div>
            </div>
            {{^towers}}
            <div class="no-towers">
                <p>У вас пока нет ни одной башни</p>
                <button class="btn btn-large buy-tower-state">Купить башню <i class="icon-shopping-cart"></i></button>
            </div>
            {{/towers}}
        </script>
        <script type="text/html" id="tower">
            <div class="tower">
                <div class="tower-image-wrapper"><div class="tower-image {{cssClass}}"></div></div>
                <div class="info">
                    <h2 class="title"><b>{{title}}</b></h2>
                    <div class="params">
                        <div class="param">Радиус: <span class="value">{{radius}}</span></div>
                        <div class="param">Скорость: <span class="value">{{speed}}</span></div>
                        <div class="param">Урон: <span class="value">{{damage}}</span></div>
                        <div class="param freeze" {{^freeze}}style="display: none"{{/freeze}}>Freeze!</div>
                    </div>
                </div>
                <div class="action" id="tower-action">{{{action}}}</div>
            </div>
        </script>
        <script type="text/html" id="empty-tower">
            <div class="empty-tower">
            </div>
        </script>


        <script type="text/html" id="buy-action">
            <button class="btn btn-primary btn-large buy" title="Купить" towerindex="{{towerindex}}" {{^canBuy}}disabled{{/canBuy}}><i class="icon-shopping-cart icon-white"></i> ${{price}}</button>
            <button class="btn btn-large cancel" title="Отмена" towerindex="{{towerindex}}" >Отмена</button>
        </script>

        <script type="text/html" id="upgrade-sale-action">
            <button class="btn btn btn-success btn-large upgrade" title="Улучшить" towerindex="{{towerindex}}" towerid="{{id}}" {{^canBuy}}disabled{{/canBuy}}><i class="icon-arrow-up"></i> ${{upgradePrice}}</button>
            <button class="btn btn btn-warning btn-large sale" title="Продать" towerindex="{{towerindex}}" towerid="{{id}}"><i class="icon-remove"></i> ${{sellPrice}}</button>
        </script>

        <script type="text/html" id="stats">
            <h2>
                <span class="money text-success">${{money}}</span>&nbsp;&nbsp;&nbsp;<span class="kills text-info">Очков: {{score}}</span>&nbsp;&nbsp;&nbsp;<span class="home-health text-warning"><img width="20" src="img/icons/icons/png/red/16x16/heart.png"/>{{health}}</span>
            </h2>
        </script>
        <script type="text/html" id="ratings">
            <table class="scores-table table table-striped" {{^scores}}style="display:none"{{/scores}}>
                <thead>
                    <tr><th><b>Имя</b></th><th><b>Рекорд</b></th></tr>
                </thead>
                <tbody>
                    {{#scores}}
                        <tr><td>{{playerName}}</td><td>{{score}}</td></tr>
                    {{/scores}}
                </tbody>
            </table>
        </script>
    </body>
</html>
